<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CloudLinux Manager | Documentation</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="CloudLinux Manager is a plugin for most popular control panels including cPanel, Plesk, DirectAdmin and ISPmanager (InterWorx coming soon). It allows you to control and monitor all CloudLinux OS Solo features.">
    <meta name="image" content="https://docs.solo.cloudlinux.com/images/howtofindlvemanagerinpanel.png">
    <meta name="twitter:title" content="CloudLinux Manager">
    <meta name="twitter:description" content="CloudLinux Manager is a plugin for most popular control panels including cPanel, Plesk, DirectAdmin and ISPmanager (InterWorx coming soon). It allows you to control and monitor all CloudLinux OS Solo features.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://docs.solo.cloudlinux.com/images/howtofindlvemanagerinpanel.png">
    <meta name="twitter:url" content="https://docs.solo.cloudlinux.com/manager/">
    <meta property="og:type" content="article">
    <meta property="og:title" content="CloudLinux Manager">
    <meta property="og:description" content="CloudLinux Manager is a plugin for most popular control panels including cPanel, Plesk, DirectAdmin and ISPmanager (InterWorx coming soon). It allows you to control and monitor all CloudLinux OS Solo features.">
    <meta property="og:image" content="https://docs.solo.cloudlinux.com/images/howtofindlvemanagerinpanel.png">
    <meta property="og:url" content="https://docs.solo.cloudlinux.com/manager/">
    <meta property="og:site_name" content="Cloudlinux OS Solo Documentation">
    <meta itemprop="name" content="CloudLinux Manager">
    <meta itemprop="description" content="CloudLinux Manager is a plugin for most popular control panels including cPanel, Plesk, DirectAdmin and ISPmanager (InterWorx coming soon). It allows you to control and monitor all CloudLinux OS Solo features.">
    <meta itemprop="image" content="https://docs.solo.cloudlinux.com/images/howtofindlvemanagerinpanel.png">
    <link rel="preload" href="/assets/css/0.styles.be606c55.css" as="style"><link rel="preload" href="/assets/js/app.27e13f86.js" as="script"><link rel="preload" href="/assets/js/4.7b4cd93a.js" as="script"><link rel="preload" href="/assets/js/1.9447076a.js" as="script"><link rel="preload" href="/assets/js/28.abb2cf71.js" as="script"><link rel="prefetch" href="/assets/js/10.fb71dc95.js"><link rel="prefetch" href="/assets/js/11.dae70c8c.js"><link rel="prefetch" href="/assets/js/12.9d020eca.js"><link rel="prefetch" href="/assets/js/13.f8746bd9.js"><link rel="prefetch" href="/assets/js/14.ef07845e.js"><link rel="prefetch" href="/assets/js/15.bba8e8c7.js"><link rel="prefetch" href="/assets/js/16.b955df04.js"><link rel="prefetch" href="/assets/js/17.86f81b9d.js"><link rel="prefetch" href="/assets/js/18.33ac18ee.js"><link rel="prefetch" href="/assets/js/19.06d53dfc.js"><link rel="prefetch" href="/assets/js/20.bd04568b.js"><link rel="prefetch" href="/assets/js/21.968307e7.js"><link rel="prefetch" href="/assets/js/22.d0a697d6.js"><link rel="prefetch" href="/assets/js/23.1b5131fb.js"><link rel="prefetch" href="/assets/js/24.d404a772.js"><link rel="prefetch" href="/assets/js/25.8e9928b1.js"><link rel="prefetch" href="/assets/js/26.779db7ef.js"><link rel="prefetch" href="/assets/js/27.4a8dad0a.js"><link rel="prefetch" href="/assets/js/29.e631f10d.js"><link rel="prefetch" href="/assets/js/5.9e591073.js"><link rel="prefetch" href="/assets/js/6.0ae5c3b6.js"><link rel="prefetch" href="/assets/js/7.957e8914.js"><link rel="prefetch" href="/assets/js/8.41d784b3.js"><link rel="prefetch" href="/assets/js/9.7b985dc4.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.ac00963a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.be606c55.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/introduction/" class="home-link"><img src="/logo.svg" alt="Documentation" class="logo"> <span class="site-name site-name--documentation can-hide">Documentation</span></a> <form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <div class="links" style="max-width:nullpx;"><a href="https://www.cloudlinux.com/support-portal/" target="_blank" class="btn">
      Contact Support
    </a> <!----> <a href="https://cloudlinux.com/trial" target="_blank" class="btn">
      Try Free
    </a> <nav class="nav-links can-hide"></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><!----> <ul class="sidebar-group-items"><li><div class="sidebar-header sidebar-link"><div><a href="/introduction/" class="sidebar-link">Introduction</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/introduction/#what-is-cloudlinux-os-solo" class="sidebar-link">What is CloudLinux OS Solo</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/introduction/#benefits" class="sidebar-link">Benefits</a></div></li><li class="sidebar-sub-header"><div><a href="/introduction/#cloudlinux-os-solo-features" class="sidebar-link">CloudLinux OS Solo features</a></div></li><li class="sidebar-sub-header"><div><a href="/introduction/#how-can-i-try-your-distribution-before-paying-for-it" class="sidebar-link">How can I try your distribution before paying for it?</a></div></li><li class="sidebar-sub-header"><div><a href="/introduction/#cloudlinux-os-solo-lifecycle" class="sidebar-link">CloudLinux OS Solo lifecycle</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/introduction/#what-s-next" class="sidebar-link">What's next</a></div></li></ul></li><li><div class="sidebar-header sidebar-link"><div><a href="/installation/" class="sidebar-link">Installation</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div><a href="/installation/#hardware-compatibility" class="sidebar-link">Hardware compatibility</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/installation/#fresh-installation" class="sidebar-link">Fresh installation</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/installation/#downloading-installation-media" class="sidebar-link">Downloading installation media</a></div></li><li class="sidebar-sub-header"><div><a href="/installation/#installing-in-the-graphical-user-interface" class="sidebar-link">Installing in the Graphical User Interface</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/installation/#converting-existing-servers" class="sidebar-link">Converting existing servers</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/installation/#downloading-and-running-conversion-script" class="sidebar-link">Downloading and running conversion script</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/installation/#uninstalling" class="sidebar-link">Uninstalling</a></div></li></ul></li><li><div class="sidebar-header sidebar-link"><div><a href="/activation/" class="sidebar-link">Licensing</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div><a href="/activation/#getting-license" class="sidebar-link">Getting license</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/activation/#license-activation" class="sidebar-link">License activation</a></div></li></ul></li><li><div class="sidebar-header sidebar-link"><div><a href="/administration/" class="sidebar-link">Administration</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div><a href="/administration/#os-detection" class="sidebar-link">OS detection</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/administration/#best-practices-for-virtualization-templates" class="sidebar-link">Best practices for virtualization templates</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/administration/#create-a-minimal-installation-for-templating" class="sidebar-link">Create a minimal installation for templating</a></div></li><li class="sidebar-sub-header"><div><a href="/administration/#manage-templates" class="sidebar-link">Manage templates</a></div></li></ul></li></ul></li><li><div class="active collapsed sidebar-header sidebar-link"><div class="active"><a href="/manager/" class="active sidebar-link">CloudLinux Manager</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div><a href="/manager/#activation" class="sidebar-link">Activation</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/manager/#website-monitoring-tool" class="sidebar-link">Website Monitoring tool</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/manager/#wmt-settings" class="sidebar-link">WMT Settings</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#wmt-cli" class="sidebar-link">WMT CLI</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#wmt-email-notifications" class="sidebar-link">WMT email notifications</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/manager/#php-slow-site-analyzer" class="sidebar-link">PHP Slow Site analyzer</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/manager/#ssa-settings" class="sidebar-link">SSA settings</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#ssa-cli" class="sidebar-link">SSA CLI</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#ssa-email-notifications" class="sidebar-link">SSA email notifications</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/manager/#x-ray" class="sidebar-link">X-Ray</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/manager/#description" class="sidebar-link">Description</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#how-to-manage-x-ray" class="sidebar-link">How to manage X-Ray</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#managing-tracing-task" class="sidebar-link">Managing tracing task</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#managing-continuous-tasks" class="sidebar-link">Managing continuous tasks</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#x-ray-autotracing" class="sidebar-link">X-Ray Autotracing</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#end-user-x-ray-plugin" class="sidebar-link">End-user X-Ray plugin</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#x-ray-client" class="sidebar-link">X-Ray client</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#x-ray-agent" class="sidebar-link">X-Ray agent</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#faq" class="sidebar-link">FAQ</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/manager/#acceleratewp" class="sidebar-link">AccelerateWP</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/manager/#how-to-enable-acceleratewp" class="sidebar-link">How to enable AccelerateWP</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#requirements-2" class="sidebar-link">Requirements</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#administrator-interface" class="sidebar-link">Administrator interface</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#troubleshooting" class="sidebar-link">Troubleshooting</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#uninstalling" class="sidebar-link">Uninstalling</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#faq-2" class="sidebar-link">FAQ</a></div></li><li class="sidebar-sub-header"><div><a href="/manager/#acceleratewp-for-end-users" class="sidebar-link">AccelerateWP for End-Users</a></div></li></ul></li></ul></li><li><div class="sidebar-header sidebar-link sidebar-header--empty"><div><a href="/faq/" class="sidebar-link">FAQ</a></div></div><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="breadcrumb-wrapper page-breadcrumb" data-v-5e0e0acf><span class="breadcrumb-title" data-v-5e0e0acf>Documentation:</span> <a href="/manager/" class="breadcrumb router-link-exact-active router-link-active" data-v-5e0e0acf>
    CloudLinux Manager
  </a></div> <div class="page-nav-wrapper"><div class="page-nav"><a href="/administration/" class="nav-arrow left"></a> <a href="/faq/" class="nav-arrow right"></a></div></div> <div class="content content__default"><h1 id="cloudlinux-manager"><a href="#cloudlinux-manager" aria-hidden="true" class="header-anchor">#</a> CloudLinux Manager</h1> <p></p><div class="table-of-contents"><ul><li><a href="#activation">Activation</a></li><li><a href="#website-monitoring-tool">Website Monitoring tool</a><ul><li><a href="#wmt-settings">WMT Settings</a></li><li><a href="#wmt-cli">WMT CLI</a></li><li><a href="#wmt-email-notifications">WMT email notifications</a></li></ul></li><li><a href="#php-slow-site-analyzer">PHP Slow Site analyzer</a><ul><li><a href="#ssa-settings">SSA settings</a></li><li><a href="#ssa-cli">SSA CLI</a></li><li><a href="#ssa-email-notifications">SSA email notifications</a></li></ul></li><li><a href="#x-ray">X-Ray</a><ul><li><a href="#description">Description</a></li><li><a href="#how-to-manage-x-ray">How to manage X-Ray</a></li><li><a href="#managing-tracing-task">Managing tracing task</a></li><li><a href="#managing-continuous-tasks">Managing continuous tasks</a></li><li><a href="#x-ray-autotracing">X-Ray Autotracing</a></li><li><a href="#end-user-x-ray-plugin">End-user X-Ray plugin</a></li><li><a href="#x-ray-client">X-Ray client</a></li><li><a href="#x-ray-agent">X-Ray agent</a></li><li><a href="#faq">FAQ</a></li></ul></li><li><a href="#acceleratewp">AccelerateWP</a><ul><li><a href="#how-to-enable-acceleratewp">How to enable AccelerateWP</a></li><li><a href="#requirements">Requirements</a></li><li><a href="#administrator-interface">Administrator interface</a></li><li><a href="#troubleshooting">Troubleshooting</a></li><li><a href="#uninstalling">Uninstalling</a></li><li><a href="#faq">FAQ</a></li><li><a href="#acceleratewp-for-end-users">AccelerateWP for End-Users</a></li></ul></li></ul></div><p></p> <p><span class="notranslate">CloudLinux Manager</span> is a plugin for most popular control panels including cPanel, Plesk, DirectAdmin and ISPmanager (InterWorx coming soon). It allows you to control and monitor all CloudLinux OS Solo features.</p> <p>CloudLinux Manager (previously LVE Manager) is accessible via the <em>Server Configuration</em> tab:</p> <p><img src="/images/howtofindlvemanagerinpanel.png" alt=""></p> <div class="warning custom-block"><p class="custom-block-title">Warning</p><p>LVE Manager is renamed to CloudLinux Manager since cPanel v 96.0.9</p></div><p><img src="/images/solo_lvemanagermainmenu.png" alt=""></p> <p>Log in as administrator to get access to the following functionality:</p> <ul><li><span class="notranslate">Website Monitoring</span> provides access to Website Monitoring and PHP Slow Site Analyzer.</li> <li><span class="notranslate">X-Ray</span> tab - provides access to X-Ray;</li></ul> <h2 id="activation"><a href="#activation" aria-hidden="true" class="header-anchor">#</a> Activation</h2> <p>To start using CloudLinux Manager, it must be activated with your CloudLinux OS Solo activation key.</p> <p>In order to activate CloudLinux Manager features, follow the next steps:</p> <ul><li><p>Enter your CLN activation key if you already have it
<img src="/images/cloudlinuxmanageractivation.png" alt=""></p> <p>If you have IP-based license, please leave the <em>Enter Activation Key</em> field empty and just click <em>Activate</em>.</p> <p>You can read more about CloudLinux OS Solo and how to get the license <a href="https://lp.cloudlinux.com/cloudlinux-os-solo" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>Sign up and get 30-days trial license</p> <p>Fill out the next form</p> <p><img src="/images/cloudlinuxmanageractivationsignupform.png" alt=""></p> <p>CloudLinux Manager will be activated automatically after submitting the form.</p> <p><img src="/images/cloudlinuxmanageractivationsignup.png" alt=""></p> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>After submitting the registration form you will get a trial license valid for next 24 hours.
To prolong license for 30 days, please follow the activation instructions sent to email specified during the
registration.</p></div></li></ul> <h2 id="website-monitoring-tool"><a href="#website-monitoring-tool" aria-hidden="true" class="header-anchor">#</a> Website Monitoring tool</h2> <p><strong>Website Monitoring tool (WMT)</strong>  is a tool that collects the statistics of the domains' availability and responsiveness, as well as errors that occur when accessing these domains. An admin can get email reports with the statistics. The Website Monitoring tool uses the simple curl request like <code>curl http://domain.com</code> to get domains’ statistics.</p> <p>You can configure the Website Monitoring tool and the <a href="/manager/#php-slow-site-analyzer">Slow Site analyzer</a> and view the daily reports in the CloudLinux Manager -&gt; Website monitoring tab.</p> <p>There are Main, PHP Site analyzer, and Settings subtabs <a href="/manager/#main">here</a>.</p> <div class="warning custom-block"><p class="custom-block-title">Warning</p><p>For now, there is no any possibility to remove the <code>alt-php-ssa</code> and <code>cl-web-monitoring-tool</code> packages so that the <em>Website monitoring</em> tab will be removed.
You can turn off the <em>Website monitoring</em>, <em>PHP Sites Analyzer</em> in the <em><a href="/manager/#wmt-settings">Settings</a></em> tabs, so sites statistics will stop collecting and there will be no additional load on the server.</p></div><h4 id="main"><a href="#main" aria-hidden="true" class="header-anchor">#</a> Main</h4> <p>This subtab views the latest report (for the last 24 hours) of the Website monitoring tool.</p> <p><img src="/images/WebsiteMonitoringMain.png" alt=""></p> <p>Report is regenerated each time the page is loaded, so all changes in configuration (the <a href="/manager/#wmt-settings"><em>Settings</em></a> tab) or in the list of domains will be applied immediately.</p> <ul><li><strong>Total number of requests</strong> - requests that were sent to all domains, existing on the servers</li> <li><strong>Successful requests</strong> - the number of requests for all domains with <img src="/images/Code200.png" alt=""></li> <li><strong>Requests with errors</strong> - the number of requests for all domains which status code is not 200</li> <li><strong>Not started requests due to short check interval</strong> - this metric is used to adjust configuration. If it is not equal 0, an admin should increase the value of Requests sending interval, because the tool does not fit into this interval to send requests to all domains.</li> <li><strong>Slowest websites in 24h and Websites with most errors in 24h</strong> - in these sections you can find the number of domains that was exposed here.</li></ul> <h3 id="wmt-settings"><a href="#wmt-settings" aria-hidden="true" class="header-anchor">#</a> WMT Settings</h3> <p>To enable or disable <strong>Website Monitoring</strong>, use the following slider.</p> <p><img src="/images/WebsiteMonitoringSlider.png" alt=""></p> <ul><li><strong>Email to send report</strong> - all email notifications will be sent to this email address</li></ul> <div class="warning custom-block"><p class="custom-block-title">Warning</p><p>If email is not specified, all <a href="/manager/#wmt-email-notifications">notifications</a> will be sent to control panel administrator's email.</p></div><p><img src="/images/Webmonitoringtoolsettings.png" alt=""></p> <ul><li><strong>Check every X minutes</strong> - this is a period in minutes between requests to the same domain.</li> <li><strong>Time allowed for response</strong> - if there is no answer from the website for this period of time, the Website Monitoring tool will regard this behaviour as the <code>HTTP 408</code> error.</li> <li><strong>Enable summary notifications</strong> - turn on/off summary daily email report notifications</li> <li><strong>Enable alert notifications</strong> - turn on/off immediate alert email notifications</li> <li><strong>Domains and URLs Ignore List</strong> - domains and URLs that will not be requested and displayed in reports; supported formats: <code>example.com, http://example.com</code></li></ul> <h3 id="wmt-cli"><a href="#wmt-cli" aria-hidden="true" class="header-anchor">#</a> WMT CLI</h3> <p>The <code>wmt-api-solo</code> utility allows managing Website Monitoring tool via CLI.</p> <p><strong>Usage</strong></p> <div class="language- extra-class"><pre class="language-text"><code># /usr/share/web-monitoring-tool/wmtbin/wmt-api-solo [command] [--optional arguments]
</code></pre></div><p><strong>Optional arguments</strong>:</p> <table><thead><tr><th></th> <th></th></tr></thead> <tbody><tr><td><code>-h</code>, <code>--help</code></td> <td>show help message and exit</td></tr></tbody></table> <p><strong>Commands</strong>:</p> <table><thead><tr><th></th> <th></th></tr></thead> <tbody><tr><td><code>config-change</code></td> <td>set the WMT configuration using the JSON string that follows the command</td></tr> <tr><td><code>config-get</code></td> <td>get the WMT configuration as JSON</td></tr> <tr><td><code>report-get</code></td> <td>generate a report for last 24 hours</td></tr> <tr><td><code>send-clickhouse</code></td> <td>send the summary report to the ClickHouse</td></tr> <tr><td><code>start</code></td> <td>start the WMT system</td></tr> <tr><td><code>status</code></td> <td>check the status of the WMT system</td></tr> <tr><td><code>stop</code></td> <td>stop the WMT system</td></tr></tbody></table> <p>Example of the <code>/usr/share/web-monitoring-tool/wmtbin/wmt-api-solo</code> command usage:</p> <div class="language- extra-class"><pre class="language-text"><code># /usr/share/web-monitoring-tool/wmtbin/wmt-api-solo --config-change &quot;{\&quot;ping_timeout\&quot;:10,\&quot;ping_interval\&quot;:5,\&quot;report_email\&quot;:\&quot;user@example.com\&quot;}&quot;
</code></pre></div><p>This way you can set all or only certain parameters.</p> <h3 id="wmt-email-notifications"><a href="#wmt-email-notifications" aria-hidden="true" class="header-anchor">#</a> WMT email notifications</h3> <p>There are two types of emails sent by the Web Monitoring tool: <strong>daily email report</strong> and <strong>alert</strong>.</p> <h4 id="daily-email-report"><a href="#daily-email-report" aria-hidden="true" class="header-anchor">#</a> Daily email report</h4> <p>The summary report with all data for the previous day. It is created and sent every day at midnight.</p> <p><strong>Example of the Web Monitoring tools daily report</strong>.</p> <p><img src="/images/Webmonitoringtoolemail.png" alt=""></p> <h4 id="alert"><a href="#alert" aria-hidden="true" class="header-anchor">#</a> Alert</h4> <p>Domains that are responding with non-200 status code will be re-requested in 5 minutes or in the <code>ping_interval</code> setting (in case it is less than 5 minutes).</p> <p>If domains are still responding with non-200 status code - Web Monitoring tool will inform about such domains with immediate alert email.</p> <p><strong>Example of the Web monitoring tools immediate alert</strong>.</p> <p><img src="/images/Webmonitoringtoolalert.png" alt=""></p> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>The next alert with domains will not be sent in less than 6 hours. Also, if the alerted domain is still responding with non-200 status code even after 6 hours - it will not be re-alerted until it responds with 200 status code at least once and becomes unavailable again.</p></div><h2 id="php-slow-site-analyzer"><a href="#php-slow-site-analyzer" aria-hidden="true" class="header-anchor">#</a> PHP Slow Site analyzer</h2> <p><strong>PHP Slow Site analyzer</strong> (<strong>SSA</strong>) is a tool that generates daily reports for the server administrator with information about the top N slow PHP-based URLs for all domains. The Slow Site analyzer tracks all PHP-based requests and selects slow ones by specific rules.</p> <p><img src="/images/solo_SlowSiteAnalyzerReport.png" alt=""></p> <p>This is an example of a report from the Slow Site analyzer. The report shows the number of slow requests per domain and its URLs and the average duration of each slow URL.</p> <h3 id="ssa-settings"><a href="#ssa-settings" aria-hidden="true" class="header-anchor">#</a> SSA settings</h3> <p>To enable or disable the <strong>Slow Site analyzer</strong>, use the following slider:</p> <p><img src="/images/WebsiteMonitoringSlider1.png" alt=""></p> <p>The following settings can be changed through the UI:</p> <p><img src="/images/solo_SlowSiteAnalyzerSettings.png" alt=""></p> <ul><li><strong>Enable summary notifications</strong> - turn on/off summary daily email report notifications;</li> <li><strong>Top slow URLs</strong> - this number (N) will be used to select the top N URLs for each domain, marked as slow;</li> <li><strong>Slow request duration</strong> - the duration of a request in seconds. If the request duration was less than specified in this setting then this request will not be marked as slow;</li> <li><strong>Domains and URLs Ignore List</strong> - domains and URLs that will not be displayed in reports.</li></ul> <h3 id="ssa-cli"><a href="#ssa-cli" aria-hidden="true" class="header-anchor">#</a> SSA CLI</h3> <p>The <code>cloudlinux-ssa-manager</code> utility allows to manage Slow Site analyzer via CLI.</p> <p><strong>Usage</strong></p> <div class="language- extra-class"><pre class="language-text"><code># /usr/sbin/cloudlinux-ssa-manager [command] [--optional arguments]
</code></pre></div><p><strong>Optional arguments</strong>:</p> <table><thead><tr><th></th> <th></th></tr></thead> <tbody><tr><td><code>-h</code>, <code>--help</code></td> <td>show help message and exit</td></tr></tbody></table> <p><strong>Commands</strong>:</p> <table><thead><tr><th></th> <th></th></tr></thead> <tbody><tr><td><code>set-config</code></td> <td>set the SSA configuration</td></tr> <tr><td><code>get-config</code></td> <td>get the SSA configuration</td></tr> <tr><td><code>get-ssa-status</code></td> <td>get a current status of SSA</td></tr> <tr><td><code>enable-ssa</code></td> <td>enable SSA</td></tr> <tr><td><code>disable-ssa</code></td> <td>disable SSA</td></tr> <tr><td><code>get-report</code></td> <td>get the latest report</td></tr></tbody></table> <p>You can use the <code>-h</code>, <code>--help</code> option with commands to get a full list of available optional arguments for each command.</p> <p>Example of the <code>/usr/sbin/cloudlinux-ssa-manager get-report | json_reformat</code> command output:</p> <div class="language- extra-class"><pre class="language-text"><code># /usr/sbin/cloudlinux-ssa-manager get-report | json_reformat
{
    &quot;result&quot;: &quot;success&quot;,
    &quot;date&quot;: &quot;18.05.2021&quot;,
    &quot;domains&quot;: [
        {
            &quot;name&quot;: &quot;user1.com&quot;,
            &quot;slow_urls&quot;: 2,
            &quot;slow_reqs&quot;: 23,
            &quot;total_reqs&quot;: 24,
            &quot;urls&quot;: [
                {
                    &quot;name&quot;: &quot;http://user1.com/&quot;,
                    &quot;reqs_num&quot;: 13,
                    &quot;average_duration&quot;: 3004509
                },
                {
                    &quot;name&quot;: &quot;http://user1.com/info.php&quot;,
                    &quot;reqs_num&quot;: 10,
                    &quot;average_duration&quot;: 3641018
                }
            ]
        },
        {
            &quot;name&quot;: &quot;user2.com&quot;,
            &quot;slow_urls&quot;: 1,
            &quot;slow_reqs&quot;: 12,
            &quot;total_reqs&quot;: 12,
            &quot;urls&quot;: [
                {
                    &quot;name&quot;: &quot;http://user2.com/&quot;,
                    &quot;reqs_num&quot;: 12,
                    &quot;average_duration&quot;: 3010571
                }
            ]
        }
    ]
}
</code></pre></div><p>Example of the <code>/usr/sbin/cloudlinux-ssa-manager set-config --requests-duration 2.5</code> command output:</p> <div class="language- extra-class"><pre class="language-text"><code># /usr/sbin/cloudlinux-ssa-manager set-config --requests-duration 2.5
{&quot;result&quot;: &quot;success&quot;}
</code></pre></div><h3 id="ssa-email-notifications"><a href="#ssa-email-notifications" aria-hidden="true" class="header-anchor">#</a> SSA email notifications</h3> <p>SSA sends email reports daily if the &quot;<strong>Enable summary notifications</strong>&quot; setting is turned on.</p> <p><strong>Example of the PHP Slow Site analyzer report</strong>:</p> <p><img src="/images/solo_SlowSiteAnalyzerEmailNotifications.png" alt=""></p> <h2 id="x-ray"><a href="#x-ray" aria-hidden="true" class="header-anchor">#</a> X-Ray</h2> <ul><li><a href="/manager/#description">Description</a></li> <li><a href="/manager/#how-to-manage-x-ray">How to manage X-Ray</a></li> <li><a href="/manager/#managing-tracing-task">Managing tracing task</a></li> <li><a href="/manager/#managing-continuous-tasks">Managing continuous tasks</a></li> <li><a href="/manager/#x-ray-autotracing">X-Ray Autotracing</a></li> <li><a href="/manager/#end-user-x-ray-plugin">End-user X-Ray plugin</a></li> <li><a href="/manager/#x-ray-client">X-Ray client</a></li> <li><a href="/manager/#x-ray-agent">X-Ray service</a></li> <li><a href="/manager/#faq">FAQ</a></li></ul> <h3 id="description"><a href="#description" aria-hidden="true" class="header-anchor">#</a> Description</h3> <p>X-Ray is a tool developed for website performance monitoring and performance issues detection.</p> <p>X-Ray can gather and visualize information about top N slowest system functions, external requests, software modules and database queries of the website.</p> <h3 id="how-to-manage-x-ray"><a href="#how-to-manage-x-ray" aria-hidden="true" class="header-anchor">#</a> How to manage X-Ray</h3> <p>X-Ray provides two options for monitoring domain requests speed: Tracing task and Continuous task.</p> <ul><li><p><strong>Tracing task</strong> is a task created manually for a specific URL to collect server requests. The task will end either after a specified number of requests to the URL or after a specified time (maximum after two days). It is not possible here to automatically email a report but it is possible to export the report in PDF and send to a user.</p></li> <li><p><strong>Continuous task</strong> is a task that initiates a daily hourly tracing requests for a specified domain and email a monitoring report. Continuous task can't stop automatically, you need to stop it manually.</p></li></ul> <p>In fact, continuous task allows to automatically create a tracing task for each new day, with the ability to get a report for the past day.</p> <h4 id="tracing-tasks-tab"><a href="#tracing-tasks-tab" aria-hidden="true" class="header-anchor">#</a> Tracing tasks tab</h4> <p>The <em>Tracing tasks</em> tab contains a list of all tracing tasks created both manually and automatically via continuous tasks.</p> <p><img src="/images/XRayTracingTaskCreated.png" alt=""></p> <p>The <em>Created</em> column shows how a task was created – automatically (by continuous task) or manually.</p> <h4 id="continuous-tracing-tab"><a href="#continuous-tracing-tab" aria-hidden="true" class="header-anchor">#</a> Continuous tracing tab</h4> <p>The <em>Continuous tracing</em> tab contains a list of continuous tasks for which tracing tasks will be created automatically for a new day for a specific domain.</p> <p><img src="/images/XRayContinuousTasksList.png" alt=""></p> <h3 id="managing-tracing-task"><a href="#managing-tracing-task" aria-hidden="true" class="header-anchor">#</a> Managing tracing task</h3> <h4 id="creating-a-new-tracing-task"><a href="#creating-a-new-tracing-task" aria-hidden="true" class="header-anchor">#</a> Creating a new tracing task</h4> <ol><li>Go to the <span class="notranslate"><em>X-Ray</em></span> tab</li> <li>Click the <span class="notranslate"><em>Start tracing</em></span> button to create a new task</li> <li>In the opened popup specify a website URL to trace</li> <li>Click the <span class="notranslate"><em>Run</em></span> button</li> <li>Tracing will run in the default mode. In the default mode <span class="notranslate">X-Ray</span> traces the first 20 requests for a specified URL</li></ol> <p><img src="/images/XRayTracingTask.png" alt=""></p> <ul><li><p><span class="notranslate"><strong>URL</strong></span> should be a valid URL of the domain which exists on the current hosting server. The URL field supports wildcard matching. To learn more about wildcard matching, click <em>How to use special characters</em>.</p></li> <li><p><span class="notranslate"><strong>Advanced settings</strong></span> allow you to set an IP address and tracing options: by time or by number of queries.</p> <p><img src="/images/XRayAdvanced.png" alt=""></p></li></ul> <p><strong>Advanced settings</strong></p> <ul><li><span class="notranslate"><strong>Client’s IP</strong></span>: it is an IPv4 address of a machine to trace. For example, if you have a production website that processes requests from different IP addresses and you do not want to add these requests to the tracing task. So, you can set a specific IP address and <span class="notranslate">X-Ray</span> will analyze requests only from this specific IP address.
Record for</li> <li><span class="notranslate"><strong>Time period</strong></span>: how much time <span class="notranslate">X-Ray</span> collect the requests (2 days max)</li> <li><span class="notranslate"><strong>Requests</strong></span>: the amount of requests that <span class="notranslate">X-Ray</span> will collect</li></ul> <p>After creating, the task appears in the list of tracing tasks.</p> <p><img src="/images/XRayTrcingTaskList.png" alt=""></p> <h4 id="viewing-tracing-tasks-list"><a href="#viewing-tracing-tasks-list" aria-hidden="true" class="header-anchor">#</a> Viewing tracing tasks list</h4> <p><img src="/images/XRayTrcingTaskList1.png" alt=""></p> <p>Tasks created <em>Manually</em> are simply tracing tasks.</p> <h4 id="tracing-status"><a href="#tracing-status" aria-hidden="true" class="header-anchor">#</a> Tracing status</h4> <p>A tracing task can have the following statuses:</p> <ul><li><span class="notranslate"><strong>Running</strong></span> – tracing is in progress</li> <li><span class="notranslate"><strong>Stopped</strong></span> – tracing was stopped by administrator</li> <li><span class="notranslate"><strong>On hold</strong></span> – the same URL already exists in the lists. Task processing will not start automatically. Administrator should start it manually.</li> <li><span class="notranslate"><strong>Completed</strong></span> – period of time is finished or number of requests is reached.</li></ul> <h4 id="collected-requests-for-tracing-task"><a href="#collected-requests-for-tracing-task" aria-hidden="true" class="header-anchor">#</a> Collected requests for tracing task</h4> <div class="warning custom-block"><p class="custom-block-title">Warning!</p><p>Collected requests are available in the UI for two weeks.</p></div><p>Click <img src="/images/XRayView.png" alt=""> to open a list of collected requests.</p> <h4 id="tracing-tasks"><a href="#tracing-tasks" aria-hidden="true" class="header-anchor">#</a> Tracing tasks</h4> <p><img src="/images/solo_XRayCollectedRequests.png" alt=""></p> <p>The slowest request is highlighted.</p> <p><img src="/images/XRaySlowestRequest.png" alt=""></p> <ul><li><span class="notranslate"><strong>Total</strong></span> displays how many requests were collected according to tasks requirements.</li> <li><span class="notranslate"><strong>Pending</strong></span> displays how many of collected requests are not visible in the table yet.</li> <li><span class="notranslate"><strong>Slow</strong></span> displays the number of requests lasting more than one second.</li></ul> <p>There are filters for the request types and the indicator of a filter used now.</p> <p><img src="/images/FilterIndicator.png" alt=""></p> <p>If slow requests were not detected during the tracing task, the following is displayed. Here, you can also view all requests.</p> <p><img src="/images/solo_RecordedSession.png" alt=""></p> <p><span class="notranslate">X-Ray</span> collects the following data for each request:</p> <ul><li><span class="notranslate"><strong>Top issues</strong></span> – the slowest items of a request</li> <li><span class="notranslate"><strong>Software modules/plugins</strong></span> by execution time (only for WordPress plugins)</li> <li><span class="notranslate"><strong>Database queries</strong></span> by execution time</li> <li><span class="notranslate"><strong>External requests</strong></span> by execution time</li> <li><span class="notranslate"><strong>Other system functions</strong></span> by execution time</li></ul> <h4 id="software-modules-plugins"><a href="#software-modules-plugins" aria-hidden="true" class="header-anchor">#</a> Software modules/plugins</h4> <p><img src="/images/XRaySoftwareModulesPlugins.png" alt=""></p> <p>The <span class="notranslate"><em>Software modules/plugins</em></span> section displays the following data:</p> <ul><li><span class="notranslate"><strong>Software type</strong></span> – a type a module/plugin. For now, <span class="notranslate">X-Ray</span> can analyze only WordPress software</li> <li><span class="notranslate"><strong>Software module</strong></span> – a name of the WordPress plugin</li> <li><span class="notranslate"><strong>Duration</strong></span> – plugin execution time</li> <li><span class="notranslate"><strong>Duration (%)</strong></span> – plugin execution time as a percentage of the total duration of the request</li></ul> <h4 id="database-queries"><a href="#database-queries" aria-hidden="true" class="header-anchor">#</a> Database queries</h4> <p><img src="/images/XRayDatabaseQueries.png" alt=""></p> <p>The <span class="notranslate"><em>Database queries</em></span> section displays the following data:</p> <ul><li><span class="notranslate"><strong>Query</strong></span> – the executed SQL-query</li> <li><span class="notranslate"><strong>File</strong></span> – the file and the line of the executed query and backtrace</li> <li><span class="notranslate"><strong>Software module</strong></span> – a WordPress plugin name from which the request was completed. If the request does not belong to any of the WordPress plugin, the name of the function that executed the given request is displayed</li> <li><span class="notranslate"><strong>Calls</strong></span> – the number of identical SQL queries</li> <li><span class="notranslate"><strong>Duration</strong></span> – execution time as a percentage of the total duration of a request and the function processing time (in brackets)</li></ul> <h4 id="external-requests"><a href="#external-requests" aria-hidden="true" class="header-anchor">#</a> External requests</h4> <p><img src="/images/XRayExternalRequests.png" alt=""></p> <p>The <span class="notranslate"><em>External requests</em></span> section displays the following data:</p> <ul><li><span class="notranslate"><strong>URL</strong></span> – the URL of the executed request</li> <li><span class="notranslate"><strong>File</strong></span> – the file and the line of the executed request and backtrace</li> <li><span class="notranslate"><strong>Duration</strong></span> – execution time as a percentage of the total duration of a request and the function processing time (in brackets)</li></ul> <h4 id="system-functions"><a href="#system-functions" aria-hidden="true" class="header-anchor">#</a> System functions</h4> <p><img src="/images/XRaySystemFunctions.png" alt=""></p> <p>The <span class="notranslate"><em>System functions</em></span> section displays the following data:</p> <ul><li><span class="notranslate"><strong>Function</strong></span> – the executed function</li> <li><span class="notranslate"><strong>File</strong></span> – the file and the line of the executed request</li> <li><span class="notranslate"><strong>Duration</strong></span> – execution time as a percentage of the total duration of a request and the function processing time (in brackets)</li></ul> <h4 id="stopping-tracing-task"><a href="#stopping-tracing-task" aria-hidden="true" class="header-anchor">#</a> Stopping tracing task</h4> <p>Click <img src="/images/XRayStop.png" alt=""> to stop the tracing task.</p> <p><img src="/images/XRayStopped.png" alt=""></p> <p>The tracing task status will be changed to <span class="notranslate"><strong>Stopped</strong></span>. Data will not be collected anymore but you can see already collected information or continue tracing later by clicking <img src="/images/XRayStart.png" alt="">.</p> <h4 id="deleting-tracing-task"><a href="#deleting-tracing-task" aria-hidden="true" class="header-anchor">#</a> Deleting tracing task</h4> <p>Click <img src="/images/XRayDelete.png" alt=""> to delete the tracing task.</p> <div class="warning custom-block"><p class="custom-block-title">Warning!</p><p>When you have deleted a tracing task, all collected data will be unavailable.</p></div><h3 id="managing-continuous-tasks"><a href="#managing-continuous-tasks" aria-hidden="true" class="header-anchor">#</a> Managing continuous tasks</h3> <h4 id="creating-a-new-continuous-task"><a href="#creating-a-new-continuous-task" aria-hidden="true" class="header-anchor">#</a> Creating a new continuous task</h4> <ol><li>Click the <em>Create continuous tracing</em>  button</li></ol> <p><img src="/images/XRayCreateContinuousTaskBtn.png" alt=""></p> <ol start="2"><li>Specify URL in the <em>Domain</em> field and email in the <em>Email for reports</em> field and click the <em>Create</em> button.</li></ol> <p><img src="/images/XRayCreateContinuousTaskForm.png" alt=""></p> <ol start="3"><li>You can see a new task in the <em>Continuous tracing</em> tab in the X-Ray UI.</li></ol> <p><img src="/images/XRayContinuousTracingTab.png" alt=""></p> <ol start="4"><li><p>If you stop a continuous tracing task, a new task for the next 24 hours will not be created. The task for the current day will be finished at midnight and the report will be emailed.</p></li> <li><p>If you delete a continuous tracing task, the task for the current day will be finished at midnight and the report will be emailed.</p></li></ol> <h4 id="viewing-continuous-tasks-list"><a href="#viewing-continuous-tasks-list" aria-hidden="true" class="header-anchor">#</a> Viewing continuous tasks list</h4> <p>You can find a list of continuous tracing tasks in the <em>Continuous tracing</em> tab.</p> <p><img src="/images/XRayContinuousTracingTasksList.png" alt=""></p> <p>You can find automatically created tasks in the <em>Tracing tasks</em> tab marked as <em>Automatically</em> in the <em>Created</em> column.</p> <p><img src="/images/XRayContinuousTracingTasksListCreated.png" alt=""></p> <p>The <a href="/manager/#tracing-status">statuses for automatically created tasks</a> are the same as for tracing task.</p> <p>To view detailed info about an automatically created task, click <img src="/images/XRayView1.png" alt="">. You will get requests grouped by hour.</p> <p><img src="/images/XRayContinuousTracingTasksListGrouped.png" alt=""></p> <p>Click to a group to open a list of the requests.</p> <p><img src="/images/XRayContinuousTracingTasksRequestsList.png" alt=""></p> <p>The following data is collected for each request:</p> <ul><li>Software modules/plugins by execution time (only for WordPress plugins)</li> <li>Database queries by execution time</li> <li>External requests by execution time</li> <li>Other system functions by execution time</li></ul> <h4 id="stopping-automatic-tracing-task"><a href="#stopping-automatic-tracing-task" aria-hidden="true" class="header-anchor">#</a> Stopping automatic tracing task</h4> <p>Stopping automatic tracing task (a part of continuous tracing task) affects only the automatic tracing task for the current day. A new task for the next day will be created at the end of the day.</p> <p>To stop the continuous tracing task completely, see <a href="/manager/#creating-a-new-continuous-task">Creating a new continuous task, paragraph 4</a>.</p> <h4 id="deleting-automatic-tracing-task"><a href="#deleting-automatic-tracing-task" aria-hidden="true" class="header-anchor">#</a> Deleting automatic tracing task</h4> <p>Deleting automatic tracing task (a part of continuous tracing task) affects only the automatic tracing task for the current day. A new task for the next day will be created at the end of the day.</p> <p>To delete the continuous tracing task completely, see <a href="/manager/#creating-a-new-continuous-task">Creating a new continuous task, paragraph 5</a>.</p> <h4 id="continuous-task-daily-report"><a href="#continuous-task-daily-report" aria-hidden="true" class="header-anchor">#</a> Continuous task daily report</h4> <ol><li><p>Users get daily reports on their emails. An example of a report is shown below:</p> <p><img src="/images/XRayContinuousTaskDaylyReportExample.png" alt=""></p></li> <li><p>Click the link in the email to show the detailed report:</p> <p><img src="/images/XRayContinuousTaskDaylyReportCollectedRequests.png" alt=""></p></li> <li><p>You can view requests grouped by hour:</p> <p><img src="/images/XRayContinuousTaskDaylyReportByHourRequests.png" alt=""></p></li> <li><p>You can also view the detailed information about request:</p> <p><img src="/images/XRayContinuousTaskDaylyReportRequestDetails.png" alt=""></p></li></ol> <h3 id="x-ray-autotracing"><a href="#x-ray-autotracing" aria-hidden="true" class="header-anchor">#</a> X-Ray Autotracing</h3> <p>X-Ray Autotracing automatically creates tracing tasks for slow URLs that were found during a day by the <a href="/lve_manager/#website-monitoring-tool-and-slow-site-analyzer">PHP Slow Site Analyzer</a> (SSA).</p> <div class="warning custom-block"><p class="custom-block-title">Warning</p><p>To use X-Ray Autotracing, update your alt-php-ssa and alt-php-xray packages to versions alt-php-ssa-0.2-1 and alt-php-xray-0.4-1 or higher by running the following command:</p> <div class="language- extra-class"><pre class="language-text"><code># yum update alt-php-ssa alt-php-xray --enablerepo=cloudlinux-updates-testing
</code></pre></div></div><h4 id="how-to-enable-x-ray-autotracing"><a href="#how-to-enable-x-ray-autotracing" aria-hidden="true" class="header-anchor">#</a> How to enable X-Ray Autotracing</h4> <p>To enable X-Ray Autotracing, run the following commands via SSH:</p> <div class="language- extra-class"><pre class="language-text"><code># /usr/sbin/cloudlinux-ssa-manager enable-ssa
# /usr/sbin/cloudlinux-xray-autotracing enable --all
</code></pre></div><p>Check <a href="/manager/#x-ray-autotracing-cli">CLI documentation</a> for a description of the <code>/usr/sbin/cloudlinux-xray-autotracing</code> CLI utility.</p> <h4 id="requirements"><a href="#requirements" aria-hidden="true" class="header-anchor">#</a> Requirements</h4> <ul><li>CloudLinux OS Shared Pro or CloudLinux OS Solo</li> <li>alt-php-ssa &gt; 0.2-1 version</li> <li>alt-php-xray &gt; 0.4-1 version</li> <li>Enabled PHP SSA on the server</li></ul> <h4 id="autotracing-interface"><a href="#autotracing-interface" aria-hidden="true" class="header-anchor">#</a> Autotracing Interface</h4> <p>A new tab for Autotracing tasks was added to the X-Ray UI:</p> <p><img src="/images/XRayAutotracingtaskstab.png" alt=""></p> <h4 id="autotracing-faq"><a href="#autotracing-faq" aria-hidden="true" class="header-anchor">#</a> Autotracing FAQ</h4> <p>Q: Why are the slow URLs in the Slow Site Analyzer report different from those on which the autotracing tasks were created?</p> <p>A: Because the autotracing decision module uses rules and thresholds different from Slow Site Analyzer, which are configured by the CloudLinux team.</p> <p>Q: How often autotracing tasks will be generated?</p> <p>A: Once a day at the same time as a Slow Site Analyzer report.</p> <h4 id="x-ray-autotracing-cli"><a href="#x-ray-autotracing-cli" aria-hidden="true" class="header-anchor">#</a> X-Ray Autotracing CLI</h4> <p>The <code>cloudlinux-xray-autotracing</code> utility allows to manage the X-Ray Autotracing via CLI.</p> <p><strong>Usage</strong></p> <div class="language- extra-class"><pre class="language-text"><code># /usr/sbin/cloudlinux-xray-autotracing [command] [--optional arguments]
</code></pre></div><p><strong>Commands</strong>:</p> <table><thead><tr><th></th> <th></th></tr></thead> <tbody><tr><td><code>enable</code></td> <td>Enable X-Ray Autotracing</td></tr> <tr><td><code>disable</code></td> <td>Disable X-Ray Autotracing</td></tr> <tr><td><code>status</code></td> <td>Get current status of the X-Ray Autotracing</td></tr></tbody></table> <p><strong>Optional arguments</strong>:</p> <table><thead><tr><th></th> <th></th></tr></thead> <tbody><tr><td><code>-h</code>, <code>--help</code></td> <td>Show help message and exit</td></tr> <tr><td><code>--all</code></td> <td>Enable or disable for all users</td></tr> <tr><td><code>{username}</code></td> <td>Enable/disable the specified user</td></tr> <tr><td><code>--list-disabled</code></td> <td>Show list of disabled users</td></tr></tbody></table> <p>You can use the <code>-h</code>, <code>--help</code> option with commands to get a full list of available optional arguments for each command.</p> <p><strong>Example usage:</strong></p> <p>Disable user1:</p> <div class="language- extra-class"><pre class="language-text"><code># /usr/sbin/cloudlinux-xray-autotracing disable user1
{&quot;result&quot;: &quot;success&quot;}
</code></pre></div><p>Show list of disabled users:</p> <div class="language- extra-class"><pre class="language-text"><code># /usr/sbin/cloudlinux-xray-autotracing status --list-disabled
{&quot;result&quot;: &quot;success&quot;, &quot;disabled_users&quot;: [&quot;user1&quot;]}
</code></pre></div><p>Enable all:</p> <div class="language- extra-class"><pre class="language-text"><code># /usr/sbin/cloudlinux-xray-autotracing enable --all
{&quot;result&quot;: &quot;success&quot;}
</code></pre></div><h3 id="end-user-x-ray-plugin"><a href="#end-user-x-ray-plugin" aria-hidden="true" class="header-anchor">#</a> End-user X-Ray plugin</h3> <p>Please refer to the <a href="https://user-docs.solo.cloudlinux.com/end-user-x-ray-plugin" target="_blank" rel="noopener noreferrer">CloudLinux OS Solo user documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="x-ray-client"><a href="#x-ray-client" aria-hidden="true" class="header-anchor">#</a> X-Ray client</h3> <p>X-Ray client is a PHP extension named <code>xray.so</code>. It analyzes the processing time of the entire request and its parts and then sends the data to the X-Ray agent.</p> <h4 id="list-of-supported-php-versions"><a href="#list-of-supported-php-versions" aria-hidden="true" class="header-anchor">#</a> List of supported PHP versions</h4> <p>The list of currently supported PHP versions:</p> <table><thead><tr><th></th> <th></th> <th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><strong>ALT PHP</strong>:</td> <td><strong>EA PHP</strong>:</td> <td><strong>Plesk PHP</strong></td> <td><strong>DirectAdmin PHP</strong></td> <td><strong>Other panels PHP</strong></td></tr> <tr><td><ul><li>alt-php54</li><li>alt-php55</li><li>alt-php56</li><li>alt-php70</li><li>alt-php71</li><li>alt-php72</li><li>alt-php73</li><li>alt-php74</li></ul></td> <td><ul><li>ea-php54</li><li>ea-php55</li><li>ea-php56</li><li>ea-php70</li><li>ea-php71</li><li>ea-php72</li><li>ea-php73</li><li>ea-php74</li></ul></td> <td><ul><li>php54</li><li>php55</li><li>php56</li><li>php70</li><li>php71</li><li>php72</li><li>php73</li><li>php74</li></ul></td> <td><ul><li>php54</li><li>php55</li><li>php56</li><li>php70</li><li>php71</li><li>php72</li><li>php73</li><li>php74</li></ul></td> <td><ul><li>54</li><li>55</li><li>56</li><li>70</li><li>71</li><li>72</li><li>73</li><li>74</li></ul></td></tr></tbody></table> <h4 id="functions-that-x-ray-client-can-hook"><a href="#functions-that-x-ray-client-can-hook" aria-hidden="true" class="header-anchor">#</a> Functions that X-Ray client can hook</h4> <h4 id="database-queries-2"><a href="#database-queries-2" aria-hidden="true" class="header-anchor">#</a> Database queries</h4> <ul><li>Functions from the <a href="https://www.php.net/manual/ru/book.mysql.php" target="_blank" rel="noopener noreferrer">MySQL<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> extension:
<ul><li><span class="notranslate"><code>mysql_query</code></span></li> <li><span class="notranslate"><code>mysql_db_query</code></span></li> <li><span class="notranslate"><code>mysql_unbuffered_query</code></span></li></ul></li> <li>Functions from the <a href="https://www.php.net/manual/ru/book.mysqli.php" target="_blank" rel="noopener noreferrer">MySQLi<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> extension:
<ul><li><span class="notranslate"><code>mysqli_query</code></span></li> <li><span class="notranslate"><code>mysqli::query</code></span></li> <li><span class="notranslate"><code>mysqli_multi_query</code></span></li> <li><span class="notranslate"><code>mysqli::multi_query</code></span></li> <li><span class="notranslate"><code>mysqli_real_query</code></span></li> <li><span class="notranslate"><code>mysqli::real_query</code></span></li></ul></li> <li>Functions from the <a href="https://www.php.net/manual/ru/book.pdo.php" target="_blank" rel="noopener noreferrer">PDO<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> extension:
<ul><li><span class="notranslate"><code>PDO::exec</code></span></li> <li><span class="notranslate"><code>PDO::query</code></span></li> <li><span class="notranslate"><code>PDOStatement::execute</code></span></li></ul></li></ul> <h4 id="external-requests-2"><a href="#external-requests-2" aria-hidden="true" class="header-anchor">#</a> External requests</h4> <ul><li>Function <a href="https://www.php.net/manual/ru/function.exec" target="_blank" rel="noopener noreferrer">curl_exec<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h4 id="system-php-functions"><a href="#system-php-functions" aria-hidden="true" class="header-anchor">#</a> System PHP functions</h4> <p>It may be any PHP system function which can be related to a PHP engine or other PHP extension, for example <span class="notranslate"><code>fopen()</code></span> or <span class="notranslate"><code>json_encode()</code></span>. A list of these functions can be found <a href="https://www.php.net/manual/en/indexes.functions.php" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h4 id="configuration-options"><a href="#configuration-options" aria-hidden="true" class="header-anchor">#</a> Configuration Options</h4> <div class="notranslate"><h4 id="xray-enabled"><a href="#xray-enabled" aria-hidden="true" class="header-anchor">#</a> xray.enabled</h4></div> <p><strong>Syntax</strong>: <span class="notranslate"><code>xray.enabled=On/Off</code></span></p> <p><strong>Default</strong>: <span class="notranslate">On</span></p> <p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p> <p><strong>Description</strong>: Enable or disable <span class="notranslate">X-Ray</span> extension from php.ini</p> <hr> <div class="notranslate"><h4 id="xray-database-queries"><a href="#xray-database-queries" aria-hidden="true" class="header-anchor">#</a> xray.database_queries</h4></div> <p><strong>Syntax</strong>: <span class="notranslate"><code>xray.database_queries=[number]</code></span></p> <p><strong>Default</strong>: 20</p> <p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p> <p><strong>Description</strong>: The number of the slowest SQL queries which will be sent to the <span class="notranslate">X-Ray</span> agent. The min value is 0 and the max value is 100. If the variable value is more, the default value will be used.</p> <hr> <div class="notranslate"><h4 id="xray-external-requests"><a href="#xray-external-requests" aria-hidden="true" class="header-anchor">#</a> xray.external_requests</h4></div> <p><strong>Syntax</strong>: <span class="notranslate"><code>xray.external_requests=[number]</code></span></p> <p><strong>Default</strong>: 20</p> <p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p> <p><strong>Description</strong>: The number of the slowest external requests (the curl_exec function) which will be sent to the <span class="notranslate">X-Ray</span> agent. The min value is 0 and the max value is 100. If the variable value is more, the default value will be used.</p> <hr> <div class="notranslate"><h4 id="xray-system-functions"><a href="#xray-system-functions" aria-hidden="true" class="header-anchor">#</a> xray.system_functions</h4></div> <p><strong>Syntax</strong>: <span class="notranslate"><code>xray.system_functions=[number]</code></span></p> <p><strong>Default</strong>: 20</p> <p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p> <p><strong>Description</strong>: The number of the slowest system functions which will be sent to the <span class="notranslate">X-Ray</span> agent.
The min value is 0 and the max value is 100. If the variable value is more, the default value will be used.</p> <hr> <div class="notranslate"><h4 id="xray-backtrace-depth"><a href="#xray-backtrace-depth" aria-hidden="true" class="header-anchor">#</a> xray.backtrace_depth</h4></div> <p><strong>Syntax</strong>: <span class="notranslate"><code>xray.backtrace_depth=[number]</code></span></p> <p><strong>Default</strong>: 10</p> <p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p> <p><strong>Description</strong>: The backtrace depth to the main() function which will be sent to the <span class="notranslate">X-Ray</span> agent. The min value is 0 and the max value is 20. If the variable value is more, the default value will be used.</p> <hr> <div class="notranslate"><h4 id="xray-processor"><a href="#xray-processor" aria-hidden="true" class="header-anchor">#</a> xray.processor</h4></div> <p><strong>Syntax</strong>: <span class="notranslate"><code>xray.processor=[processor_name]</code></span></p> <p><strong>Default</strong>: <span class="notranslate">xray</span></p> <p><strong>Changeable</strong>:  <span class="notranslate">PHP_INI_SYSTEM</span></p> <p><strong>Description</strong>: Tells the <span class="notranslate">X-Ray</span> client which processor to use. The new processors may be added in the future. The default processor is xray which means to send data to the <span class="notranslate">X-Ray</span> agent.</p> <hr> <div class="notranslate"><h4 id="xray-tasks"><a href="#xray-tasks" aria-hidden="true" class="header-anchor">#</a> xray.tasks</h4></div> <p><strong>Syntax</strong>: <span class="notranslate"><code>xray.tasks=host:uri:ip:id</code></span></p> <p><strong>Default</strong>: <span class="notranslate">no value</span></p> <p><strong>Changeable</strong>:  <span class="notranslate">PHP_INI_SYSTEM</span></p> <p><strong>Description</strong>: The current tracing tasks for the given PHP request. This directive is added automatically by the <span class="notranslate">X-Ray</span> manager when creating a task. It is not allowed to edit manually, as <span class="notranslate">X-Ray</span> may stop working.</p> <hr> <div class="notranslate"><h4 id="xray-to-file"><a href="#xray-to-file" aria-hidden="true" class="header-anchor">#</a> xray.to_file</h4></div> <p><strong>Syntax</strong>: <span class="notranslate"><code>xray.to_file=On/Off</code></span></p> <p><strong>Default</strong>: <span class="notranslate">Off</span></p> <p><strong>Changeable</strong>:  <span class="notranslate">PHP_INI_SYSTEM</span></p> <p><strong>Description</strong>: Only for debug purposes. Writes to a file data which is sent to the processor.</p> <hr> <div class="notranslate"><h4 id="xray-debug"><a href="#xray-debug" aria-hidden="true" class="header-anchor">#</a> xray.debug</h4></div> <p><strong>Syntax</strong>: <span class="notranslate"><code>xray.debug=On/Off</code></span></p> <p><strong>Default</strong>: <span class="notranslate">Off</span></p> <p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p> <p><strong>Description</strong>: Only for debug purposes. Enables debug output during request processing. In the On mode can slow down the domain.</p> <hr> <div class="notranslate"><h4 id="xray-debug-file"><a href="#xray-debug-file" aria-hidden="true" class="header-anchor">#</a> xray.debug_file</h4></div> <p><strong>Syntax</strong>: <span class="notranslate"><code>xray.debug_file=[path_to_file]</code></span></p> <p><strong>Default</strong>: <span class="notranslate"><code>/tmp/xray-debug.log</code></span></p> <p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p> <p><strong>Description</strong>: Only for debug purposes. Specifies a file for logging debug information.</p> <h3 id="x-ray-agent"><a href="#x-ray-agent" aria-hidden="true" class="header-anchor">#</a> X-Ray agent</h3> <p>This is a service that receives data from the <span class="notranslate">X-Ray</span> client and sends it to the remote storage.</p> <h4 id="managing-x-ray-service"><a href="#managing-x-ray-service" aria-hidden="true" class="header-anchor">#</a> Managing X-Ray service</h4> <p>The <span class="notranslate">X-Ray</span> agent is managed by the <span class="notranslate"><code>service</code></span> utility.</p> <ul><li><p>To start the <span class="notranslate">X-Ray</span> agent, run the following command:</p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code># service xray-agent start
</code></pre></div></div></li> <li><p>To stop the <span class="notranslate">X-Ray</span> agent, run the following command:</p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code># service xray-agent stop
</code></pre></div></div></li> <li><p>To restart the <span class="notranslate">X-Ray</span> agent, run the following command:</p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code># service xray-agent restart
</code></pre></div></div></li></ul> <h3 id="faq"><a href="#faq" aria-hidden="true" class="header-anchor">#</a> FAQ</h3> <h4 id="does-x-ray-affect-website-performance"><a href="#does-x-ray-affect-website-performance" aria-hidden="true" class="header-anchor">#</a> Does X-Ray affect website performance?</h4> <p><span class="notranslate">X-Ray</span> affects website performance. Our tests show 5-10 % overhead from a website loading time with <span class="notranslate">X-Ray</span> tracing enabled.
<span class="notranslate">X-Ray</span> allows you to find website performance issues and should not be enabled permanently. If your website is very slow, you can enable <span class="notranslate">X-Ray</span> to find the cause and then disable it.</p> <h4 id="what-should-i-do-if-i-see-the-warning-task-is-duplicated-by-url"><a href="#what-should-i-do-if-i-see-the-warning-task-is-duplicated-by-url" aria-hidden="true" class="header-anchor">#</a> What should I do if I see the warning &quot;Task is duplicated by URL&quot;?</h4> <p>This warning means that you already have a task to trace this URL in the list of your tracing tasks. If you see this warning, a new task can be created only with the <span class="notranslate"><em>On hold</em></span> status and you will be able to run it only when the previous task with the same URL will be completed.</p> <p>Note that the URL field supports wildcard matching and you can have a case when <span class="notranslate">X-Ray</span> is tracing the <span class="notranslate"><code>URL=domain.com/*</code></span> and you are trying to create a new task with <span class="notranslate"><code>URL=domain.com/xray.php</code></span>. In this case, you will see that warning because the <code>*</code> URLs array includes <span class="notranslate"><code>xray.php</code></span>.</p> <h4 id="i-started-a-tracing-task-and-made-requests-to-url-but-did-not-see-any-results-in-the-ui-what-should-i-do"><a href="#i-started-a-tracing-task-and-made-requests-to-url-but-did-not-see-any-results-in-the-ui-what-should-i-do" aria-hidden="true" class="header-anchor">#</a> I started a tracing task and made requests to URL but did not see any results in the UI. What should I do?</h4> <ol><li><p>Check that <span class="notranslate"><strong>xray</strong></span> extension is enabled for the domain. To do so, go to the <span class="notranslate"><code>phpinfo()</code></span> page and make a request. In the phpinfo output try to find the following section:</p> <p><img src="/images/XRayPHPInfo.png" alt=""></p></li></ol> <p>If you cannot see that section, try to restart PHP processes for that user (the simplest way is to restart Apache) and check that you can see the <span class="notranslate"><strong>xray</strong></span> extension.</p> <ol start="2"><li><p>If you can see the <span class="notranslate"><strong>xray</strong></span> extension in the phpinfo, check that <span class="notranslate">X-Ray</span> agent service is running with the service xray-agent status command. If it is not running, start it with the <span class="notranslate"><code>service xray-agent start</code></span> command.</p></li> <li><p><span class="notranslate">X-Ray</span> may not send data if a site uses a caching plugin, as the caching plugin is outputting HTML, thus there are no PHP scripts to examine. We encountered such issues with sites that use <span class="notranslate">LSCache</span> and <span class="notranslate">WP Super Cache</span> plugins. Check that your site does not use caching plugins. If so, disable it while tracing a site to get information from <span class="notranslate">X-Ray</span>.</p></li> <li><p>If you set a client’s IP when creating the tracing task, check that your requests come to the server with this IP via phpinfo (since there may be NAT between your local machine and the server).</p> <p><img src="/images/XRayPHPInfoRemoteAddr.png" alt=""></p></li> <li><p>If, after checking the previous items, the issue persists, <a href="https://cloudlinux.zendesk.com/hc/en-us/requests/new" target="_blank" rel="noopener noreferrer">contact our support team<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li></ol> <h4 id="what-to-do-if-x-ray-is-not-found-in-the-phpinfo-page"><a href="#what-to-do-if-x-ray-is-not-found-in-the-phpinfo-page" aria-hidden="true" class="header-anchor">#</a> What to do if X-Ray is not found in the phpinfo() page?</h4> <p>If you managed to create a tracing task, this means that the <span class="notranslate"><code>xray.ini</code></span> file was created in a system. Therefore, there may be two reasons why it did not appear in the phpinfo page of the domain.</p> <ol><li><p>PHP process wasn't reloaded after adding the xray.ini. To solve this, you should restart the Apache or fpm service for the domain on which the tracing was started. At the moment, this is done automatically by the <span class="notranslate">X-Ray</span> manager after creating the task.</p></li> <li><p>Your domain uses a PHP version different from the one which was detected by the <span class="notranslate">X-Ray</span> manager. To solve this, check the scan dir for additional ini files for your domain.</p> <p><img src="/images/XRayScanDir.png" alt=""></p> <p>Then check the <span class="notranslate"><code>ini_location</code></span> that was passed to the <span class="notranslate">X-Ray</span> manager by running the following command:</p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code># cat /usr/share/alt-php-xray/manager.log | grep ini_location
</code></pre></div></div> <p>Find your tracing task in the output and check that the <span class="notranslate"><code>xray.ini</code></span> exists in this directory, also check that the <code>ini</code> path is the same in the phpinfo page output and in the <span class="notranslate"><code>ini_location</code></span> directive for your tracing task. If they are the same, you should reload your PHP. If they are different that means that the <span class="notranslate">X-Ray</span> manager could not correctly determine the PHP version your domain uses. In this case, contact our support team at <a href="https://cloudlinux.zendesk.com/hc/requests/new" target="_blank" rel="noopener noreferrer">https://cloudlinux.zendesk.com/hc/requests/new<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li></ol> <h4 id="i-use-litespeed-x-ray-is-enabled-and-it-is-shown-in-the-phpinfo-page-but-does-not-collect-data-when-sending-requests-to-a-site-what-to-do"><a href="#i-use-litespeed-x-ray-is-enabled-and-it-is-shown-in-the-phpinfo-page-but-does-not-collect-data-when-sending-requests-to-a-site-what-to-do" aria-hidden="true" class="header-anchor">#</a> I use LiteSpeed, X-Ray is enabled and it is shown in the phpinfo() page but does not collect data when sending requests to a site. What to do?</h4> <p>Check for the <span class="notranslate"><code>CacheLookup on</code></span> option in the <code>htaccess</code> file for your domain.
If the option is there, LiteSpeed processes requests bypassing the PHP X-Ray extension.
In this case, to get tracing information, you should remove the <span class="notranslate"><code>CacheLookup on</code></span> option.</p> <h4 id="what-is-the-proper-format-for-the-url"><a href="#what-is-the-proper-format-for-the-url" aria-hidden="true" class="header-anchor">#</a> What is the proper format for the URL?</h4> <p>All of the examples below are correct:</p> <ul><li><code>http://domain.com</code></li> <li><code>http://domain.com/</code></li> <li><code>https://domain.com</code></li> <li><code>https://domain.com/</code></li></ul> <p>You can use any of them with a prefix <code>www.</code> and it is also correct.</p> <h2 id="acceleratewp"><a href="#acceleratewp" aria-hidden="true" class="header-anchor">#</a> AccelerateWP</h2> <p>AccelerateWP is an improved and updated WP Optimization Suite. AccelerateWP is a suite of optimization modules which can be enabled and automatically configured for the end-user site.</p> <p>There are Object Cache and Site Optimization modules.</p> <div class="warning custom-block"><p class="custom-block-title">Attention!</p><p>The Site Optimization module will be free forever.
The Object Cache module will be free only during the testing period and after that it will be charged.</p></div><p>An administrator has the <em>CloudLinux Manager → AccelerateWP</em> tab to manage modules that will be available for enabling on websites.</p> <div class="warning custom-block"><p class="custom-block-title">Warning!</p><ul><li>This is a beta release. By default AccelerateWP suite is disabled in the current release. See <a href="/manager/#how-to-enable-acceleratewp">How to enable AccelerateWP</a>.</li> <li>Please turn on the Object Cache module if you are sure! Turning it ON can really increase performance, but in a limited scope of cases!</li> <li>All operations which destroy LVE will clean the Object Cache! Such operations include operations with CageFS, but do not include operations with  setting LVE limits.</li></ul></div><h3 id="how-to-enable-acceleratewp"><a href="#how-to-enable-acceleratewp" aria-hidden="true" class="header-anchor">#</a> How to enable AccelerateWP</h3> <p>If you'd like to try Smart Advice and AccelerateWP you should participate in the Beta tester program. To become a beta tester, please send your request at our Beta program page with the signup form <a href="https://www.cloudlinux.com/wp-performance/" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Once you submit the request, we will send you a confirmation email with program details, terms of use, and installation instructions.</p> <h3 id="requirements-2"><a href="#requirements-2" aria-hidden="true" class="header-anchor">#</a> Requirements</h3> <ul><li>CloudLinux OS Shared Pro (6,7,8)</li> <li>cPanel</li> <li>WordPress version 3.7 and higher</li> <li>Required any (ea-, alt-) php 5.6+ version with loaded redis extension</li> <li>PHP handlers: php-fpm or php-lsapi (Apache)</li> <li>Apache only (LiteSpeed is not supported yet, coming soon)</li></ul> <h3 id="administrator-interface"><a href="#administrator-interface" aria-hidden="true" class="header-anchor">#</a> Administrator interface</h3> <p>Go to the <em>CloudLinux Manager → AccelerateWP</em></p> <p><img src="/images/AccelerateWPMain.png" alt=""></p> <p>An administrator can enable the AccelerateWP feature and it’s icon visualization by the <em>Enable this feature and show plugin icon for all users</em> slider.</p> <div class="tip custom-block"><p class="custom-block-title">Warning!</p><p>End-users should enable the module in their interface for the particular website.</p></div><p>Just added users will appear in the list during 10 min after adding. If you want to get an actual list of users, use the Rescan button.</p> <p><img src="/images/RescanBtn.png" alt=""></p> <p>To allow using modules for all users, you can use the following buttons:</p> <p><img src="/images/AllowBtns.png" alt=""></p> <p>The <strong>Allow</strong> option will make all necessary changes to configuration so the end-user can start working with the AccelerateWP successfully.</p> <p>The <strong>Deny</strong> option (means “suspend feature usage”) will make all necessary changes to configuration so all enabled WP caching plugins will be turned off.</p> <div class="tip custom-block"><p class="custom-block-title">Warning!</p><p>All users custom configurations will be saved, so they can be used in case the admin allows working with the module.</p></div><h4 id="filters"><a href="#filters" aria-hidden="true" class="header-anchor">#</a> Filters</h4> <p><img src="/images/WPOSFilters.png" alt=""></p> <ul><li>Users with <strong>WordPress sites only</strong> will show the list of users which already have WordPress sites</li> <li>Users with <strong>Object Cache enabled only</strong> will show the list of users with the Object Cache Module allowed by the admin (it is not a website with configured Object Cache Module by user)</li> <li>Users with <strong>Site Optimization enabled only</strong>  will show the list of users with the Site Optimization Module allowed by the admin (it is not a website with configured Site Optimization by user)</li></ul> <h4 id="acceleratewp-suite-log-files"><a href="#acceleratewp-suite-log-files" aria-hidden="true" class="header-anchor">#</a> AccelerateWP suite log files</h4> <p>The  AccelerateWP suite log files are located in:</p> <ul><li><code>/var/log/clwpos/main.log</code></li> <li><code>/var/log/clwpos/daemon.log</code></li></ul> <h3 id="troubleshooting"><a href="#troubleshooting" aria-hidden="true" class="header-anchor">#</a> Troubleshooting</h3> <h4 id="configuring-redis-extension-for-installed-php-versions"><a href="#configuring-redis-extension-for-installed-php-versions" aria-hidden="true" class="header-anchor">#</a> Configuring Redis extension for installed PHP versions</h4> <p>Enabling the Object Cache module for a specific WordPress website requires a presence and loaded Redis extension for the PHP version chosen for the website. The Redis extension is configured for all installed and supported ea-php and alt-php versions automatically, right after system administrator allows WP Optimization suite for at least one end-user.</p> <p>Users will not be able to turn on the Object Cache module until Redis extension configuration is not completed. Corresponding incompatibility warning will be displayed in user`s plugin:</p> <p><img src="/images/IncompatibilityWarning.png" alt=""></p> <p>To ensure PHP extension is configured correctly, do the following.</p> <p><strong>For ea-php</strong></p> <p>Check Redis extension package is installed by running the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>rpm -q ea-phpXY-php-redis
</code></pre></div><p>Example:</p> <div class="language- extra-class"><pre class="language-text"><code>rpm -q ea-php74-php-redis
</code></pre></div><p>Check Redis ini is present by running the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>ls /opt/cpanel/ea-phpXY/root/etc/php.d/ | grep 50-redis
</code></pre></div><p>Make sure Redis module is loaded under user by running the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>su -c &quot;php -m | grep redis&quot; &lt;username&gt;
</code></pre></div><p>Automatic Redis configurations for ea-php is triggered by cron once a day: <code>/etc/cron.d/clwpos_redis_extension_installer</code>.</p> <p>You can run utility for Redis configuration manually:</p> <div class="language- extra-class"><pre class="language-text"><code>/usr/sbin/enable_redis_for_ea_php
</code></pre></div><p>All errors must be present in stdout or in the main log: <code>/var/log/clwpos/main.log</code>.</p> <p><strong>For alt-php</strong></p> <p>Redis will be configured for a specific alt-php version automatically, only if <code>redis.so</code> is present on the server.</p> <div class="language- extra-class"><pre class="language-text"><code>ls /opt/alt/phpXY/usr/lib64/php/modules | grep redis.so
</code></pre></div><p>If the Redis module is present for php, but end-user is still facing incompatibility issue, re-check the following:</p> <ul><li><p>make sure the Redis module is loaded under user:</p> <div class="language- extra-class"><pre class="language-text"><code>su -c &quot;php -m | grep redis&quot; &lt;username&gt;
</code></pre></div></li> <li><p>check required extensions are enabled in php.ini:</p> <div class="language- extra-class"><pre class="language-text"><code>cat /opt/alt/phpXY/etc/php.ini | grep redis.so
cat /opt/alt/phpXY/etc/php.ini | grep json.so
cat /opt/alt/phpXY/etc/php.ini | grep igbinary.so
</code></pre></div></li></ul> <p>If the Redis module is not present, it is needed to install the <code>alt-phpXY-pecl-ext</code> package manually and run the Redis configuration script: <code>/usr/share/cloudlinux/wpos/enable_redis_for_alt_php.py</code>.</p> <p>All errors must be present in stdout or in main log: <code>/var/log/clwpos/main.log</code>.</p> <h4 id="allowing-module-for-end-users"><a href="#allowing-module-for-end-users" aria-hidden="true" class="header-anchor">#</a> Allowing module for end-users</h4> <p>Object Cache module is allowed:</p> <p><img src="/images/ModuleAllowed.png" alt=""></p> <p>But the plugin is still unavailable for the end-user:</p> <p><img src="/images/PluginUnavailable.png" alt=""></p> <p>There could be several reasons.</p> <ol><li><p>Ensure object cache is really allowed in configs:</p> <div class="language- extra-class"><pre class="language-text"><code>id - u &lt;username&gt; # user uid
cat /var/clwpos/uids/&lt;uid&gt;/modules_allowed.json
</code></pre></div><p>Check config as user:</p> <div class="language- extra-class"><pre class="language-text"><code>su -c &quot;cat /var/clwpos/uids/&lt;uid&gt;/modules_allowed.json&quot; &lt;username&gt;
</code></pre></div><p>If module is enabled, the file must contain the following:</p> <div class="language- extra-class"><pre class="language-text"><code>{&quot;version&quot;: &quot;1&quot;,&quot;modules&quot;: {&quot;object_cache&quot;: true}}
</code></pre></div><p>If file is not accessible under user and user is in CageFS, try to re-check CageFS mount points:</p> <div class="language- extra-class"><pre class="language-text"><code>cat /etc/cagefs/cagefs.mp | grep var/clwpos/uids
*/var/clwpos/uids
</code></pre></div><p>If there is no such mount point, try to fix it manually:</p> <div class="language- extra-class"><pre class="language-text"><code>echo '*/var/clwpos/uids' &gt;&gt; /etc/cagefs/cagefs.mp &amp;&amp; cagefsctl --remount-all
</code></pre></div></li> <li><p>Error happened during <code>clwpos-user</code> get command execution:</p> <p>Run manually the clwpos-user get command under corresponding user and check logs:</p> <div class="language- extra-class"><pre class="language-text"><code>su -c “clwpos-user get” &lt;username&gt;
cat /home/&lt;username&gt;/.clwpos/main.log
</code></pre></div></li></ol> <p>Also, right after allowing module for user, ensure the AccelerateWP icon displaying is turned on as well:</p> <p><img src="/images/WPOSIconCheck.png" alt=""></p> <p>It allows to show the AccelerateWP suite for all users:</p> <p><img src="/images/WPOSAllowTool.png" alt=""></p> <p>Check the <code>hideWPOSApp</code> setting is set to <code>false</code></p> <div class="language- extra-class"><pre class="language-text"><code> cloudlinux-config get --json
…..
 &quot;hideWPOSApp&quot;: false
…..
</code></pre></div><p>Settings are stored in the <code>/usr/share/l.v.e-manager/lvemanager-config.json</code>.</p> <h4 id="general-php-issues"><a href="#general-php-issues" aria-hidden="true" class="header-anchor">#</a> General PHP issues</h4> <p>Both administrator and end-user may face some common PHP errors that are not related to the AccelerateWP suite. They could be caused by broken PHP binaries, missed PHP files, etc and may affect the AccelerateWP suite.</p> <p>For example, the error with loading library:</p> <div class="language- extra-class"><pre class="language-text"><code>/opt/cpanel/ea-php70/root/usr/bin/php: error while loading shared libraries: libncurses.so.6: cannot open shared object file: No such file or directory
</code></pre></div><p>To check that this issue is caused by PHP, call any PHP command, e.g:</p> <div class="language- extra-class"><pre class="language-text"><code>/opt/cpanel/ea-php70/root/usr/bin/php -i
</code></pre></div><p>And make sure that installed ea-php70 packages are not broken via <code>rpm -V &lt;package_name&gt;</code>. Reinstall broken packages if found.</p> <h4 id="monitoring-user-s-redises"><a href="#monitoring-user-s-redises" aria-hidden="true" class="header-anchor">#</a> Monitoring user's Redises</h4> <p>Redis process is started for each user after Object Cache has been enabled for at least one WordPress website. Also it is killed after object cache has been disabled for all sites. Look through the processes list to check Redis status for user:</p> <div class="language- extra-class"><pre class="language-text"><code> ps aux | grep redis
username     107845  0.1  0.1 216712  4708 ?        Sl   07:15   0:00 /opt/alt/redis/bin/redis-server unixsocket:/home/&lt;username&gt;/.clwpos/redis.sock
</code></pre></div><p>Additionally, there is the daemon to manage user`s Redises: clwpos_monitoring. It checks Redises each 5 minutes, starts or kills the “garbage” Redises if needed.</p> <p>Try to look at service status: <code>service clwpos_monitoring status</code> and main daemon log: <code>/var/log/clwpos/daemon.log</code>.</p> <h3 id="uninstalling"><a href="#uninstalling" aria-hidden="true" class="header-anchor">#</a> Uninstalling</h3> <p>To uninstall the AccelerateWP suite, run the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>/usr/bin/clwpos-erase
</code></pre></div><p>Execute this command before both: complete lve-utils package uninstallation and for downgrading the system to the version that does not support the AccelerateWP suite.</p> <h3 id="faq-2"><a href="#faq-2" aria-hidden="true" class="header-anchor">#</a> FAQ</h3> <h4 id="with-which-panel-can-i-use-the-cloudlinux-shared-pro-acceleratewp-suite"><a href="#with-which-panel-can-i-use-the-cloudlinux-shared-pro-acceleratewp-suite" aria-hidden="true" class="header-anchor">#</a> With which panel can I use the CloudLinux Shared Pro AccelerateWP suite?</h4> <p>In the current release only  with cPanel. In the next releases it will be available for DirectAdmin.</p> <h4 id="how-will-it-help-my-customers"><a href="#how-will-it-help-my-customers" aria-hidden="true" class="header-anchor">#</a> How will it help my customers?</h4> <p>In the current version, the AccelerateWP suite automatically configures the Object Cache module per website. In the next releases we will add modules to help automatically increase performance for the WordPress websites.</p> <h4 id="how-to-set-up-a-php-fpm-handler-for-the-domain"><a href="#how-to-set-up-a-php-fpm-handler-for-the-domain" aria-hidden="true" class="header-anchor">#</a> How to set up a php-fpm handler for the domain?</h4> <p>Since the php-fpm handler is required to use the AccelerateWP suite, you may need to configure it manually.</p> <ol><li><p>Ensure the php-fpm package for the current PHP version is installed or install it.</p> <ul><li>manual installation:</li></ul> <div class="language- extra-class"><pre class="language-text"><code>yum -y install ea-phpXY-php-fpm
</code></pre></div><p>XY - is you PHP version, for instance <code>ea-php74-php-fpm</code></p> <ul><li>via MultiPHP Manager:</li></ul> <p><img src="/images/ViaMultiPHPManager.png" alt=""></p></li> <li><p>Enable php-fpm handler for domain via MultiPHP Manager:</p></li></ol> <p><img src="/images/EnableMultiPHP.png" alt=""></p> <h4 id="how-to-install-php-lsapi-for-the-domain"><a href="#how-to-install-php-lsapi-for-the-domain" aria-hidden="true" class="header-anchor">#</a> How to install php-lsapi for the domain?</h4> <p>Please use the <a href="https://docs.cloudlinux.com/cloudlinux_os_components/#apache-mod-lsapi-pro" target="_blank" rel="noopener noreferrer">documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="acceleratewp-for-end-users"><a href="#acceleratewp-for-end-users" aria-hidden="true" class="header-anchor">#</a> AccelerateWP for End-Users</h3> <p>Please find the AccelerateWP Suite End-User documentation <a href="https://user-docs.solo.cloudlinux.com/wpos-plugin" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/cloudlinux/cloudlinux-single-doc/edit/dev/docs/manager/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="back-to-top" data-v-c64d4a1e><a class="nav-arrow top back-to-top__link" data-v-c64d4a1e></a></div> </div> <div class="footer" data-v-671babf6><div data-v-671babf6><a href="https://cloudlinux.com" data-v-671babf6><img src="/assets/img/we-are-cloudlinux.783ed390.svg" alt="We are Cloudlinux" data-v-671babf6></a></div> <div class="footer-company-title" data-v-671babf6>2022. CloudLinux Inc</div> <div data-v-671babf6><div data-v-671babf6><a href="https://cloudlinux.zendesk.com/hc/en-us/categories/360002375940" target="_blank" data-v-671babf6>How to</a></div><div data-v-671babf6><a href="https://www.cloudlinux.com/getting-started-with-cloudlinux-os" target="_blank" data-v-671babf6>Getting started</a></div><div data-v-671babf6><a href="https://cloudlinux.zendesk.com/hc/en-us/requests/new" target="_blank" data-v-671babf6>Submit request</a></div><div data-v-671babf6><a href="https://blog.cloudlinux.com/" target="_blank" data-v-671babf6>Blog</a></div></div> <div class="social" data-v-671babf6><span class="footer-social-text" data-v-671babf6>Stay in touch</span> <a href="https://www.facebook.com/cloudlinux/" target="_blank" data-v-671babf6><img src="/fb.png" class="footer-social-logo" data-v-671babf6></a><a href="https://twitter.com/cloudlinuxos/" target="_blank" data-v-671babf6><img src="/tw.png" class="footer-social-logo" data-v-671babf6></a><a href="https://linkedin.com/company/cloudlinux" target="_blank" data-v-671babf6><img src="/in.png" class="footer-social-logo" data-v-671babf6></a><a href="https://www.youtube.com/channel/UCZ3YMHWnMP7TaxlXVay5-aw" target="_blank" data-v-671babf6><img src="/ytube.png" class="footer-social-logo" data-v-671babf6></a></div></div> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.27e13f86.js" defer></script><script src="/assets/js/4.7b4cd93a.js" defer></script><script src="/assets/js/1.9447076a.js" defer></script><script src="/assets/js/28.abb2cf71.js" defer></script>
  </body>
</html>
